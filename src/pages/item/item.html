<ion-header>
    <ion-navbar>
        <ion-title>{{ item }}</ion-title>
    </ion-navbar>
</ion-header>



<ion-content padding center text-center>
    <div padding style="border: 1px solid lightgrey">
        <h2>Tools</h2>
        <hr>
        <ion-grid class="button-group">
            <ion-row>
                <ion-col>
                    <button ion-button [ngClass]="{'activated-button': getSelectedCanvasDirective() === canvasDirectives.canvas_line}" block
                    (click)="selectCanvasDirective(canvasDirectives.canvas_line)">
                    <p class="button-text">{{"Line (" + hotkeys.line + ")"}}</p>
                        <ion-icon name="md-create"></ion-icon></button>
                </ion-col>
                <ion-col>
                    <button ion-button [ngClass]="{'activated-button': getSelectedCanvasDirective() === canvasDirectives.canvas_rect}" color="primary" block
                    (click)="selectCanvasDirective(canvasDirectives.canvas_rect)">
                    <p class="button-text">{{"Rectangle (" + hotkeys.rectangle + ")"}}</p>
                        <ion-icon name="ios-square"></ion-icon></button>
                </ion-col>
                <ion-col>
                    <button ion-button [ngClass]="{'activated-button': getSelectedCanvasDirective() === canvasDirectives.canvas_polygon}" color="primary" block
                    (click)="selectCanvasDirective(canvasDirectives.canvas_polygon)">
                    <p class="button-text">{{"POLYGON (" + hotkeys.polygon + ")"}}</p>
                        <ion-icon name="star"></ion-icon></button>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>


    <ion-grid>
        <ion-row center>
            <div class="image-canvas-div">
                <img class="img-position"
                     src="{{getImageSrc()}}"
                     [src]="sanitizer.bypassSecurityTrustResourceUrl(getImageSrc())"
                     width="{{getCurrentImage().width}}"
                     height="{{getCurrentImage().height}}"/>
                <canvas
                        class="canvas-position"
                        width="{{getCurrentImage().width}}"
                        height="{{getCurrentImage().height}}"
                        canvas-editor></canvas>
            </div>
		  	<div class="labels-div">
			  	<ion-list *ngIf="getSelectedCanvasDirective() === canvasDirectives.canvas_polygon">
				  	<h1>Polys</h1>
					<div *ngFor="let itm of polys">
					  	<ion-input [(ngModel)]="itm.label" *ngIf="isSelected(itm)"></ion-input>
						<button ion-item *ngIf="!isSelected(itm)" (click)="itemSelect(itm)">
					    	{{ itm.label }}
						</button>
						<button ion-item (click)="itemDelete(itm)">X</button>
					</div>
				</ion-list>
			  	<ion-list *ngIf="getSelectedCanvasDirective() === canvasDirectives.canvas_rect">
				  	<h1>Boxes</h1>
					<div class="box-itm" *ngFor="let itm of boxes">
						<div class="box-input" *ngIf="isSelected(itm)">
						  <ion-input class="box-input-label" [(ngModel)]="itm.label"></ion-input><p class="box-div">|</p>
					  		<ion-input class="box-input-id" [(ngModel)]="itm._id" type="number"></ion-input>
						</div>
						<button class="box-input" ion-item *ngIf="!isSelected(itm)" (click)="itemSelect(itm)">
							{{ itm.label }} | {{itm._id}}
						</button>
						<button class="box-delete" ion-item (click)="itemDelete(itm)">
						  	X
						</button>
					</div>
				</ion-list>
	  			<ion-list *ngIf="getSelectedCanvasDirective() === canvasDirectives.canvas_line">
				  	<h1>Lines</h1>
					<div *ngFor="let itm of lines">
					  	<ion-input [(ngModel)]="itm.label" *ngIf="isSelected(itm)"></ion-input>
						<button ion-item *ngIf="!isSelected(itm)" (click)="itemSelect(itm)">
					    	{{ itm.label }}
						</button> 
						<button ion-item (click)="itemDelete(itm)">X</button>
					</div>
				</ion-list>
		  	</div>
			<div class="actions-div">
				<h1>Actions</h1>
				<button ion-item (click)="actionAdd()">
					+
				</button>
				<div class="box-itm" *ngFor="let action of actions">
				  	<div class="box-input" *ngIf="isSelectedAction(action)">
					  	<ion-input class="box-input-label" [(ngModel)]="action.label"></ion-input>
					  	<p class="box-input-id">{{action.object_id}}</p>
					</div>
					<button class="box-input" ion-item *ngIf="!isSelectedAction(action)"
					  (click)="actionSelect(action)">
						{{action.label}} | {{action.object_id}}
					</button>
					<button class="box-delete" ion-item (click)="actionDelete(action)">
						X  
					</button>
				</div>
			</div>
		</ion-row>
    </ion-grid>

</ion-content>

